# AI Job Portal - AWS Deployment Environment
# Use this for dev/staging deployment to AWS

# Database (AWS RDS)
DATABASE_URL=postgresql://postgres:xZsb3c91pZrJLmg@ai-job-portal-dev.czemc0204jzt.ap-south-1.rds.amazonaws.com:5432/ai_job_portal_dev?sslmode=require&uselibpqcompat=true

# Redis/Valkey (AWS ElastiCache)
REDIS_HOST=master.ai-job-portal-dev-valkey.uxsqrz.aps1.cache.amazonaws.com
REDIS_PORT=6379
REDIS_TLS=true
REDIS_URL=rediss://master.ai-job-portal-dev-valkey.uxsqrz.aps1.cache.amazonaws.com:6379

# CORS Configuration
# Allow Vercel deployment and localhost for testing
CORS_ORIGINS=https://job-board-admin-dashboard.vercel.app,http://localhost:8080,http://localhost:3000

# Node Environment
NODE_ENV=production

# Enable static OTP (123456) for testing in production-like environments
# Set to 'true' to allow dev OTP bypass, remove or set 'false' for real production
ENABLE_DEV_OTP=true

# Service Communication Configuration
# SIMPLE FIX: Use ALB for internal service communication
# All services communicate through the same load balancer
INTERNAL_SERVICE_BASE_URL=http://ai-job-portal-dev-alb-1152570158.ap-south-1.elb.amazonaws.com

# Alternative: Set individual service URLs for service discovery (optional)
# Uncomment these if using AWS Cloud Map or want direct service-to-service communication
# AUTH_SERVICE_URL=http://auth-service.local:3001
# USER_SERVICE_URL=http://user-service.local:3002
# JOB_SERVICE_URL=http://job-service.local:3003
# APPLICATION_SERVICE_URL=http://application-service.local:3004
# NOTIFICATION_SERVICE_URL=http://notification-service.local:3005
# PAYMENT_SERVICE_URL=http://payment-service.local:3006
# ADMIN_SERVICE_URL=http://admin-service.local:3007
# MESSAGING_SERVICE_URL=http://messaging-service.local:3008
# RECOMMENDATION_SERVICE_URL=http://recommendation-service.local:3009

# JWT Configuration (IMPORTANT: Change these in production!)
JWT_SECRET=prod-jwt-secret-CHANGE-THIS-to-secure-random-string
JWT_REFRESH_SECRET=prod-refresh-secret-CHANGE-THIS-to-secure-random-string
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d

# AWS Resources Reference
# ========================
# RDS:
#   Instance: ai-job-portal-dev
#   Engine: PostgreSQL 15.10
#   Type: db.t3.micro
#   Region: ap-south-1
#
# ElastiCache Valkey:
#   Replication Group: ai-job-portal-dev-valkey
#   Engine: Valkey 8.0
#   Type: cache.t3.micro
#   Region: ap-south-1
#   TLS: Enabled
